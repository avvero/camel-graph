{"version":3,"sources":["angular-relative-date.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","relativeDate","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_dereq_","relativeDateFilter","$injector","_now","relativeDateTranslations","$translate","getTranslate","date","now","Date","delta","minute","hour","day","week","month","year","calculateDelta","getFullYear","getMonth","getDate","translate","translatePhrase","timeValue","translateKey","instant","time","Math","floor","Object","defineProperty","value","injector","translations","has","get","id","params","replace","round","abs","2","_interopRequireDefault","obj","__esModule","default","_translations","_translations2","_filter","_filter2","angular","filter","./filter","./translations","3","just_now","seconds_ago","a_minute_ago","minutes_ago","an_hour_ago","hours_ago","a_day_ago","days_ago","a_week_ago","weeks_ago","a_month_ago","months_ago","a_year_ago","years_ago","over_a_year_ago","seconds_from_now","a_minute_from_now","minutes_from_now","an_hour_from_now","hours_from_now","a_day_from_now","days_from_now","a_week_from_now","weeks_from_now","a_month_from_now","months_from_now","a_year_from_now","years_from_now","over_a_year_from_now"],"mappings":"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","file":"angular-relative-date.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.relativeDate = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = relativeDateFilter;\nvar getTranslate = function getTranslate(injector, translations) {\n  if (injector.has('$translate')) {\n    return injector.get('$translate');\n  } else {\n    return {\n      instant: function instant(id, params) {\n        return translations[id].replace('{{time}}', params.time);\n      }\n    };\n  }\n};\n\nvar calculateDelta = function calculateDelta(now, date) {\n  return Math.round(Math.abs(now - date) / 1000);\n};\n\nfunction relativeDateFilter($injector, _now, relativeDateTranslations) {\n  var $translate = getTranslate($injector, relativeDateTranslations);\n\n  return function (date) {\n    var now = _now || new Date();\n\n    if (!(date instanceof Date)) {\n      date = new Date(date);\n    }\n\n    var delta = null;\n\n    var minute = 60;\n    var hour = minute * 60;\n    var day = hour * 24;\n    var week = day * 7;\n    var month = day * 30;\n    var year = day * 365;\n\n    delta = calculateDelta(now, date);\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      delta = calculateDelta(now, date);\n    }\n\n    var translate = function translate(translatePhrase, timeValue) {\n      var translateKey;\n\n      if (translatePhrase === 'just_now') {\n        translateKey = translatePhrase;\n      } else if (now >= date) {\n        translateKey = translatePhrase + '_ago';\n      } else {\n        translateKey = translatePhrase + '_from_now';\n      }\n\n      return $translate.instant(translateKey, {\n        time: timeValue\n      });\n    };\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('just_now');\n\n      case !(delta < minute):\n        return translate('seconds', delta);\n\n      case !(delta < 2 * minute):\n        return translate('a_minute');\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute));\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('an_hour');\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour));\n\n      case !(delta < day * 2):\n        return translate('a_day');\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day));\n\n      case Math.floor(delta / week) !== 1:\n        return translate('a_week');\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week));\n\n      case Math.floor(delta / month) !== 1:\n        return translate('a_month');\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month));\n\n      case Math.floor(delta / year) !== 1:\n        return translate('a_year');\n\n      default:\n        return translate('over_a_year');\n    }\n  };\n}\n\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _translations = _dereq_('./translations');\n\nvar _translations2 = _interopRequireDefault(_translations);\n\nvar _filter = _dereq_('./filter');\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global angular */\n\nvar relativeDate = angular.module('relativeDate', []);\n\nrelativeDate.value('now', null);\nrelativeDate.value('relativeDateTranslations', _translations2.default);\n\nrelativeDate.filter('relativeDate', ['$injector', 'now', 'relativeDateTranslations', _filter2.default]);\n\nexports.default = relativeDate;\n\n},{\"./filter\":1,\"./translations\":3}],3:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  just_now: 'just now',\n  seconds_ago: '{{time}} seconds ago',\n  a_minute_ago: 'a minute ago',\n  minutes_ago: '{{time}} minutes ago',\n  an_hour_ago: 'an hour ago',\n  hours_ago: '{{time}} hours ago',\n  a_day_ago: 'yesterday',\n  days_ago: '{{time}} days ago',\n  a_week_ago: 'a week ago',\n  weeks_ago: '{{time}} weeks ago',\n  a_month_ago: 'a month ago',\n  months_ago: '{{time}} months ago',\n  a_year_ago: 'a year ago',\n  years_ago: '{{time}} years ago',\n  over_a_year_ago: 'over a year ago',\n  seconds_from_now: '{{time}} seconds from now',\n  a_minute_from_now: 'a minute from now',\n  minutes_from_now: '{{time}} minutes from now',\n  an_hour_from_now: 'an hour from now',\n  hours_from_now: '{{time}} hours from now',\n  a_day_from_now: 'tomorrow',\n  days_from_now: '{{time}} days from now',\n  a_week_from_now: 'a week from now',\n  weeks_from_now: '{{time}} weeks from now',\n  a_month_from_now: 'a month from now',\n  months_from_now: '{{time}} months from now',\n  a_year_from_now: 'a year from now',\n  years_from_now: '{{time}} years from now',\n  over_a_year_from_now: 'over a year from now'\n};\n\n},{}]},{},[2])(2)\n});\n\n"],"sourceRoot":"/source/"}